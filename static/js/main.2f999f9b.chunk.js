(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(154)},112:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(93),l=a.n(o),c=a(7),i=(a(112),a(160)),u=a(9),s=a(8),d=a(43),m=a(167),p=a(171),f=a(166),h=a(18),E=a(3),y=a(168),v=a(97),g=function(){var e=Object(s.w)(),t=Object(s.u)().pathname,a=Object(r.useState)(""),o=Object(E.a)(a,2),l=o[0],c=o[1];return n.a.createElement(y.a,{className:"d-flex",onSubmit:function(a){a.preventDefault(),e(l?"/?q=".concat(l):t)}},n.a.createElement(y.a.Control,{type:"search",className:"me-2",value:l,onChange:function(e){return c(e.target.value)}}),n.a.createElement(v.a,{type:"submit",variant:"outline-success"},"Search"))},b=a(12),O=Object(b.b)("api/callBegun"),w=Object(b.b)("api/callSuccess"),j=Object(b.b)("api/callFailed"),I=Object(b.c)({name:"userOrders",initialState:{orders:[],loading:!1,error:null},reducers:{userOrdersRequested:function(e,t){e.loading=!0},userOrdersReceived:function(e,t){e.orders=t.payload,e.loading=!1},userOrdersRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},userOrdersCleared:function(e,t){e.orders=[],e.loading=!1,e.error=null}}}),S=I.actions,L=S.userOrdersRequested,C=S.userOrdersReceived,k=S.userOrdersRequestFailed,x=S.userOrdersCleared,R=I.reducer,N=Object(b.c)({name:"userList",initialState:{users:[],loading:!1,error:null,successDelete:!1,successUpdate:!1},reducers:{userListRequested:function(e,t){e.loading=!0},userListReceived:function(e,t){e.users=t.payload,e.loading=!1},userListRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},userDeleted:function(e,t){var a=e.users.findIndex(function(e){return e.email===t.payload.email});e.users.splice(a,1),e.successDelete=!0},userUpdated:function(e,t){e.successUpdate=!0,window.location.reload()},userListReseted:function(e,t){e.users=[]}}}),P=N.actions,_=P.userListRequested,D=P.userListReceived,A=P.userListRequestFailed,q=P.userDeleted,G=P.userUpdated,T=P.userListReseted,F=N.reducer,B=Object(b.c)({name:"user",initialState:{userInfo:{},loading:!1,error:null},reducers:{userInfoRequested:function(e,t){e.loading=!0},userInfoReceived:function(e,t){e.userInfo=t.payload,e.loading=!1,localStorage.setItem("userInfo",JSON.stringify(t.payload)),window.location.reload(!0)},userInfoRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},userLoggedOut:function(e,t){e.userInfo=null},errorCleared:function(e,t){e.error=null}}}),M=B.actions,U=M.userInfoRequested,$=M.userInfoReceived,z=M.userInfoRequestFailed,J=M.userLoggedOut,Y=M.errorCleared,H=B.reducer,K={"Content-Type":"application/json"},Q=function(){return function(e){localStorage.removeItem("userInfo"),e({type:J.type}),e(function(e){e({type:x.type})}),e(function(e){e({type:T.type})})}},X=function(){return function(e){e({type:Y.type})}},Z=function(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.user}).userInfo;return n.a.createElement("header",null,n.a.createElement(m.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},n.a.createElement(i.a,null,n.a.createElement(h.LinkContainer,{to:"/"},n.a.createElement(m.a.Brand,null,"ProShop")),n.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(g,null),n.a.createElement(p.a,{className:"ms-auto"},n.a.createElement(h.LinkContainer,{to:"/cart"},n.a.createElement(p.a.Link,null,n.a.createElement("i",{className:"fa fa-shopping-cart"})," Cart")),t?n.a.createElement(f.a,{title:t.name,id:"username"},n.a.createElement(h.LinkContainer,{to:"/profile"},n.a.createElement(f.a.Item,null,"Profile")),n.a.createElement(f.a.Item,{onClick:function(){e(Q())}},"Logout")):n.a.createElement(h.LinkContainer,{to:"/login"},n.a.createElement(p.a.Link,null,n.a.createElement("i",{className:"fa fa-user"})," Login")),t&&t.isAdmin&&n.a.createElement(f.a,{title:"Admin",id:"adminmenu"},n.a.createElement(h.LinkContainer,{to:"/admin/users"},n.a.createElement(f.a.Item,null,"Users")),n.a.createElement(h.LinkContainer,{to:"/admin/products"},n.a.createElement(f.a.Item,null,"Products")),n.a.createElement(h.LinkContainer,{to:"/admin/orders"},n.a.createElement(f.a.Item,null,"Orders"))))))))},V=a(161),W=a(96),ee=function(){return n.a.createElement("footer",null,n.a.createElement(i.a,null,n.a.createElement(V.a,null,n.a.createElement(W.a,{className:"my-3 text-center"},"Copyright \xa9 ProShop"))))},te=a(170),ae=function(e){var t=e.value,a=e.text,r=e.color;return n.a.createElement("div",{className:"rating"},n.a.createElement("span",null,n.a.createElement("i",{style:{color:r},className:t>=1?"fa fa-star":t>=.5?"fa fa-star-half-o":"fa fa-star-o"})),n.a.createElement("span",null,n.a.createElement("i",{style:{color:r},className:t>=2?"fa fa-star":t>=1.5?"fa fa-star-half-o":"fa fa-star-o"})),n.a.createElement("span",null,n.a.createElement("i",{style:{color:r},className:t>=3?"fa fa-star":t>=2.5?"fa fa-star-half-o":"fa fa-star-o"})),n.a.createElement("span",null,n.a.createElement("i",{style:{color:r},className:t>=4?"fa fa-star":t>=3.5?"fa fa-star-half-o":"fa fa-star-o"})),n.a.createElement("span",null,n.a.createElement("i",{style:{color:r},className:t>=5?"fa fa-star":t>=4.5?"fa fa-star-half-o":"fa fa-star-o"})),n.a.createElement("span",null,a&&a))},re=function(e){var t=e.product;return n.a.createElement(te.a,{className:"my-3 p-3 rounded"},n.a.createElement(u.Link,{to:"/product/".concat(t._id)},n.a.createElement(te.a.Img,{src:t.image,alt:t.name})),n.a.createElement(te.a.Body,null,n.a.createElement(u.Link,{to:"/product/".concat(t._id)},n.a.createElement(te.a.Title,{as:"div"},n.a.createElement("strong",null,t.name))),n.a.createElement(te.a.Text,{as:"div"},n.a.createElement("div",{className:"my-3"},n.a.createElement(ae,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"#ffc107"}))),n.a.createElement(te.a.Text,{as:"h3"},"$",t.price)))},ne=a(162),oe=function(){return n.a.createElement(ne.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:" auto",display:"block"}},n.a.createElement("span",{className:"sr-only"},"Loading>..."))},le=a(163),ce=function(e){var t=e.variant,a=e.children;return n.a.createElement(le.a,{variant:t},a)},ie=a(72),ue=a.n(ie),se=function(e){var t=e.itemsCount,a=e.pageSize,r=e.currentPage,o=e.onPageChange,l=Math.ceil(t/a),c=ue.a.range(1,l+1);return 1===l?null:n.a.createElement("nav",null,n.a.createElement("ul",{className:"pagination"},c.map(function(e){return n.a.createElement("li",{key:e,style:{cursor:"pointer"},className:e===r?"page-item active":"page-item"},n.a.createElement("a",{onClick:function(){return o(e)},className:"page-link"},e))})))},de=a(169),me=a(164),pe=Object(b.c)({name:"products",initialState:{productsList:[],topRatedProducts:[],loading:!1,error:null,successDelete:!1,successCreate:!1,loadingTopRated:!1,errorTopRated:null},reducers:{productsRequested:function(e,t){e.loading=!0},productsReceived:function(e,t){e.productsList=t.payload,e.loading=!1},productsRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},productCreated:function(e,t){e.productsList.push(t.payload),e.successCreate=!0,e.createdProduct=t.payload},productUpdated:function(e,t){var a=e.productsList.findIndex(function(e){return e._id===t.payload._id});e.productsList[a]=t.payload,window.location.reload()},createdProductRemoved:function(e){delete e.createdProduct,e.successCreate=!1},productDeleted:function(e,t){var a=e.productsList.findIndex(function(e){return e.createdAt===t.payload.createdAt});e.productsList.splice(a,1),e.successDelete=!0},topRatedProductsRequested:function(e,t){e.loadingTopRated=!0},topRatedProductsReceived:function(e,t){e.topRatedProducts=t.payload,e.loadingTopRated=!1},topRatedProductsRequestFailed:function(e,t){e.errorTopRated=t.payload,e.loadingTopRated=!1}}}),fe=pe.actions,he=fe.productsRequested,Ee=fe.productsReceived,ye=fe.productsRequestFailed,ve=fe.productCreated,ge=fe.productUpdated,be=fe.createdProductRemoved,Oe=fe.productDeleted,we=fe.topRatedProductsRequested,je=fe.topRatedProductsReceived,Ie=fe.topRatedProductsRequestFailed,Se=pe.reducer,Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){t(O({url:"/api/products?query=".concat(e),onSuccess:Ee.type,onError:ye.type,onStart:he.type}))}},Ce=function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/products/".concat(e,"/delete/"),method:"delete",headers:n,onSuccess:Oe.type}))}},ke=function(){var e=Object(c.b)(),t=Object(c.c)(function(e){return e.products}),a=t.topRatedProducts,o=t.loadingTopRated,l=t.errorTopRated;return Object(r.useEffect)(function(){e(function(e){e(O({url:"/api/products/top/",method:"get",onStart:we.type,onSuccess:je.type,onError:Ie.type}))})},[e]),o?n.a.createElement(oe,null):l?n.a.createElement(ce,{variant:"danger"},l):n.a.createElement(de.a,{pause:"hover",className:"bg-dark"},a.map(function(e){return n.a.createElement(de.a.Item,{key:e._id},n.a.createElement(u.Link,{to:"/product/".concat(e._id)},n.a.createElement(me.a,{src:e.image,alt:e.name,fluid:!0}),n.a.createElement(de.a.Caption,{className:"carousel-caption"},n.a.createElement("h4",null,e.name," ($",e.price,")"))))}))};var xe=function(){var e=Object(c.b)(),t=Object(u.useSearchParams)(),a=Object(E.a)(t,1)[0],o=Object(r.useState)(1),l=Object(E.a)(o,2),i=l[0],s=l[1],d=Object(c.c)(function(e){return e.products}),m=d.productsList,p=d.loading,f=d.error,h=a.get("q");Object(r.useEffect)(function(){e(h?Le(h):Le())},[e,h]);var y=function(e,t,a){var r=(t-1)*a;return ue()(e).slice(r).take(a).value()}(m,i,4);return n.a.createElement("div",null,!h&&n.a.createElement(ke,null),n.a.createElement("h1",null,"Latest Products"),p?n.a.createElement(oe,null):f?n.a.createElement(ce,{variant:"danger"},f):n.a.createElement("div",null,n.a.createElement(V.a,null,y.map(function(e){return n.a.createElement(W.a,{key:e._id,sm:12,md:6,lg:4,xl:3},n.a.createElement(re,{product:e}))})),n.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.a.createElement(se,{itemsCount:m.length,pageSize:4,currentPage:i,onPageChange:function(e){s(e)}}))))},Re=a(22),Ne=a(172),Pe=Object(b.c)({name:"productDetails",initialState:{product:{reviews:[]},loading:!1,error:null,loadingReview:!1,successReview:!1,errorReview:null},reducers:{productDetailsRequested:function(e,t){e.loading=!0},productDetailsReceived:function(e,t){e.product=t.payload,e.loading=!1},productDetailsRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},productReviewRequested:function(e,t){e.loadingReview=!0},productReviewed:function(e,t){e.product=t.payload,e.loadingReview=!1,e.successReview=!0},productReviewRequestFailed:function(e,t){e.errorReview=t.payload,e.loadingReview=!1},productReviewResetted:function(e,t){e.successReview=!1,e.errorReview=null}}}),_e=Pe.actions,De=_e.productDetailsRequested,Ae=_e.productDetailsReceived,qe=_e.productDetailsRequestFailed,Ge=_e.productReviewRequested,Te=_e.productReviewed,Fe=_e.productReviewRequestFailed,Be=_e.productReviewResetted,Me=Pe.reducer,Ue=function(e){return O({url:"/api/products/".concat(e),onStart:De.type,onSuccess:Ae.type,onError:qe.type})},$e=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(s.A)().id,o=Object(r.useState)(1),l=Object(E.a)(o,2),i=l[0],d=l[1],m=Object(r.useState)(0),p=Object(E.a)(m,2),f=p[0],h=p[1],g=Object(r.useState)(""),b=Object(E.a)(g,2),w=b[0],j=b[1],I=Object(c.c)(function(e){return e}),S=I.productDetails,L=S.product,C=S.loading,k=S.error,x=S.loadingReview,R=S.successReview,N=S.errorReview,P=I.cart.cartItems,_=I.user.userInfo,D=P.find(function(e){return e.productId===Number(a)});Object(r.useEffect)(function(){R&&(h(0),j(""),e(function(e){e({type:Be.type})})),e(Ue(a)),D&&d(D.quantity)},[e,a,R]);return n.a.createElement("div",null,n.a.createElement(u.Link,{to:"/",className:"btn btn-light"},"Go Home"),C?n.a.createElement(oe,null):k?n.a.createElement(ce,{variant:"danger"},k):n.a.createElement("div",null,n.a.createElement(V.a,null,n.a.createElement(W.a,{md:6},n.a.createElement(me.a,{src:L.image,alt:L.name,fluid:!0})),n.a.createElement(W.a,{md:3},n.a.createElement(Ne.a,{variant:"flush"},n.a.createElement(Ne.a.Item,null,n.a.createElement("h3",null,L.name)),n.a.createElement(Ne.a.Item,null,n.a.createElement(ae,{value:L.rating,text:"".concat(L.numReviews," reviews"),color:"#ffc107"})),n.a.createElement(Ne.a.Item,null,"Price: $",L.price),n.a.createElement(Ne.a.Item,null,"Description: ",L.description))),n.a.createElement(W.a,{md:3},n.a.createElement(te.a,null,n.a.createElement(Ne.a,null,n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Price:"),n.a.createElement(W.a,null,n.a.createElement("strong",null,"$",L.price)))),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Status:"),n.a.createElement(W.a,null,L.countInStock>0?"In Stock":"Out of Stock"))),L.countInStock>0&&n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Quantity: "),n.a.createElement(W.a,null,n.a.createElement(y.a.Select,{size:"sm",value:i,onChange:function(e){return d(Number(e.target.value))}},Object(Re.a)(Array(L.countInStock).keys()).map(function(e){return n.a.createElement("option",{key:e,value:e+1},e+1)}))))),n.a.createElement(Ne.a.Item,null,n.a.createElement(v.a,{type:"button",disabled:0===L.countInStock,className:"btn w-100",onClick:function(){t("/cart/".concat(a,"?qty=").concat(i))}},"Add To Cart")))))),n.a.createElement("br",null),n.a.createElement(V.a,null,n.a.createElement(W.a,{md:6},n.a.createElement("h4",null,"Reviews"),0===L.reviews.length&&n.a.createElement(ce,{variant:"info"},"No Reviews"),n.a.createElement(Ne.a,{variant:"flush"},L.reviews.map(function(e){return n.a.createElement(Ne.a.Item,{key:e._id},n.a.createElement("strong",null,e.name),n.a.createElement(ae,{value:e.rating,color:"#ffc107"}),n.a.createElement("p",null,e.createdAt.substring(0,10)),n.a.createElement("p",null,e.comment))}),n.a.createElement(Ne.a.Item,null,n.a.createElement("h4",null,"Write a Review"),x&&n.a.createElement(oe,null),R&&n.a.createElement(ce,{variant:"success"},"Review submitted"),N&&n.a.createElement(ce,{variant:"danger"},N),_?n.a.createElement(y.a,{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(a,r){var n=r().user.userInfo.token,o={"Content-Type":"application/json",Authorization:"Bearer ".concat(n)};a(O({url:"/api/products/".concat(e,"/reviews/"),method:"post",data:t,headers:o,onStart:Ge.type,onSuccess:Te.type,onError:Fe.type}))}}(a,{rating:f,comment:w}))}},n.a.createElement(y.a.Group,{controlId:"rating"},n.a.createElement(y.a.Label,null,"Rating"),n.a.createElement(y.a.Select,{value:f,onChange:function(e){return h(Number(e.target.value))}},n.a.createElement("option",{value:""},"Select..."),n.a.createElement("option",{value:1},"1 - Poor"),n.a.createElement("option",{value:2},"2 - Fair"),n.a.createElement("option",{value:3},"3 - Good"),n.a.createElement("option",{value:4},"4 - Very Good"),n.a.createElement("option",{value:5},"5 - Excellent"))),n.a.createElement(y.a.Group,{controlId:"comment"},n.a.createElement(y.a.Label,null,"Review"),n.a.createElement(y.a.Control,{as:"textarea",rows:"3",value:w,onChange:function(e){return j(e.target.value)}})),n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit",variant:"primary",disabled:x},"Submit")):n.a.createElement(ce,{variant:"info"},n.a.createElement(u.Link,{to:"/login"},"Login")," to write a review"," ")))))))},ze=a(35),Je=a(56),Ye=a.n(Je),He={request:Ye.a.request,get:Ye.a.get,post:Ye.a.post,put:Ye.a.put,delete:Ye.a.delete};function Ke(){Ke=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof d?t:d,o=Object.create(n.prototype),l=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var l=a.delegate;if(l){var c=b(l,a);if(c){if(c===s)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===s)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=i;var s={};function d(){}function m(){}function p(){}var f={};c(f,n,function(){return this});var h=Object.getPrototypeOf,E=h&&h(h(I([])));E&&E!==t&&a.call(E,n)&&(f=E);var y=p.prototype=d.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,o){function l(){return new t(function(r,l){!function r(n,o,l,c){var i=u(e[n],e,o);if("throw"!==i.type){var s=i.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,l,c)},function(e){r("throw",e,l,c)}):t.resolve(d).then(function(e){s.value=e,l(s)},function(e){return r("throw",e,l,c)})}c(i.arg)}(n,o,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(g.prototype),c(g.prototype,o,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var l=new g(i(t,a,r,n),o);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},v(y),c(y,l,"Generator"),c(y,n,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(c&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;w(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:I(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),s}},e}var Qe=Object(b.c)({name:"cart",initialState:{cartItems:[],shippingAddress:{},paymentMethod:""},reducers:{cartItemAdded:function(e,t){var a=t.payload;if(e.cartItems.find(function(e){return e.productId===a.productId})){var r=e.cartItems.map(function(e){return e.productId===a.productId?a:e});e.cartItems=r}else e.cartItems.push(a)},cartItemRemoved:function(e,t){var a=e.cartItems.findIndex(function(e){return e.productId===t.payload});e.cartItems.splice(a,1)},shippingAddressSaved:function(e,t){e.shippingAddress=t.payload},paymentMethodSaved:function(e,t){e.paymentMethod=t.payload},cartCleared:function(e,t){e.cartItems=[]}}}),Xe=Qe.actions,Ze=Xe.cartItemAdded,Ve=Xe.cartItemRemoved,We=Xe.shippingAddressSaved,et=Xe.paymentMethodSaved,tt=Xe.cartCleared,at=Qe.reducer,rt=function(e,t){return function(){var a=Object(ze.a)(Ke().mark(function a(r,n){var o,l,c;return Ke().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o="/api/products/".concat(e),a.next=3,He.get(o);case 3:l=a.sent,c=l.data,r({type:Ze.type,payload:{productId:c._id,name:c.name,price:c.price,image:c.image,countInStock:c.countInStock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 7:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},nt=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(u.useSearchParams)(),o=Object(E.a)(a,1)[0],l=Object(s.A)().id,i=Number(o.get("qty")),d=Object(c.c)(function(e){return e.cart}).cartItems;Object(r.useEffect)(function(){l&&e(rt(l,i))},[e,l,i]);var m=function(t){var a;e((a=t,function(){var e=Object(ze.a)(Ke().mark(function e(t,r){return Ke().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ve.type,payload:a}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()))};return n.a.createElement(V.a,null,n.a.createElement("h1",null,"Shopping Cart"),n.a.createElement(W.a,{md:8},0===d.length?n.a.createElement(ce,{variant:"info"},"Your cart is empty ",n.a.createElement(u.Link,{to:"/"},"Go Back")):n.a.createElement(Ne.a,{variant:"flush"},d.map(function(t){return n.a.createElement(Ne.a.Item,{key:t.productId},n.a.createElement(V.a,null,n.a.createElement(W.a,{md:2},n.a.createElement(me.a,{src:t.image,alt:t.name,fluid:!0,rounded:!0})),n.a.createElement(W.a,{md:3},n.a.createElement(u.Link,{to:"/product/".concat(t.productId)},t.name)),n.a.createElement(W.a,{md:2},"$",t.price),n.a.createElement(W.a,{md:3},n.a.createElement(y.a.Select,{size:"sm",value:t.quantity,onChange:function(a){return e(rt(t.productId,Number(a.target.value)))}},Object(Re.a)(Array(t.countInStock).keys()).map(function(e){return n.a.createElement("option",{key:e,value:e+1},e+1)}))),n.a.createElement(W.a,{md:1},n.a.createElement(v.a,{className:"btn btn-light",onClick:function(){return m(t.productId)}},n.a.createElement("i",{className:"fa fa-trash"})))))}))),n.a.createElement(W.a,{md:4},n.a.createElement(te.a,null,n.a.createElement(Ne.a,null,n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"SubTotal (",d.reduce(function(e,t){return e+t.quantity},0),") Items"),"$",d.reduce(function(e,t){return e+t.price*t.quantity},0).toFixed(2)),n.a.createElement(Ne.a.Item,null,n.a.createElement(v.a,{type:"button",disabled:0===d.length,className:"btn w-100",onClick:function(){t("/login?redirect=shipping")}},"Proceed To CheckOut"))))))},ot=function(e){var t=e.children;return n.a.createElement(i.a,null,n.a.createElement(V.a,{className:"justify-content-md-center"},n.a.createElement(W.a,{xs:12,md:6},t)))},lt=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(u.useSearchParams)(),o=Object(E.a)(a,1)[0],l=Object(Re.a)(o),i=Object(r.useState)(""),d=Object(E.a)(i,2),m=d[0],p=d[1],f=Object(r.useState)(""),h=Object(E.a)(f,2),g=h[0],b=h[1],w=Object(c.c)(function(e){return e.user}),j=w.userInfo,I=w.loading,S=w.error,L=l.length>0?l[0][1]:"";Object(r.useEffect)(function(){j&&t("/".concat(L)),e(X())},[j,t,L]);return n.a.createElement(ot,null,n.a.createElement("h1",null,"Sign In"),S&&n.a.createElement(ce,{variant:"danger"},S),I&&n.a.createElement(oe,null),n.a.createElement(y.a,{onSubmit:function(t){t.preventDefault(),e(function(e,t){return O({url:"/api/users/login/",method:"post",data:{username:e,password:t},headers:K,onStart:U.type,onSuccess:$.type,onError:z.type})}(m,g))}},n.a.createElement(y.a.Group,{controlId:"email"},n.a.createElement(y.a.Label,null,"Email"),n.a.createElement(y.a.Control,{type:"email",value:m,placeholder:"Enter email",onChange:function(e){return p(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"password"},n.a.createElement(y.a.Label,null,"Password"),n.a.createElement(y.a.Control,{type:"password",value:g,placeholder:"Enter password",onChange:function(e){return b(e.target.value)}})),n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit",variant:"primary"},"Sign In")),n.a.createElement(V.a,null,n.a.createElement(W.a,{className:"py-3"},"New Customer ?"," ",n.a.createElement(u.Link,{to:L?"/register?redirect=".concat(L):"/register"},"Register"))))},ct=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(u.useSearchParams)(),o=Object(E.a)(a,1)[0],l=Object(Re.a)(o),i=Object(r.useState)(""),d=Object(E.a)(i,2),m=d[0],p=d[1],f=Object(r.useState)(""),h=Object(E.a)(f,2),g=h[0],b=h[1],w=Object(r.useState)(""),j=Object(E.a)(w,2),I=j[0],S=j[1],L=Object(r.useState)(""),C=Object(E.a)(L,2),k=C[0],x=C[1],R=Object(r.useState)(""),N=Object(E.a)(R,2),P=N[0],_=N[1],D=Object(c.c)(function(e){return e.user}),A=D.userInfo,q=D.loading,G=D.error,T=l.length>0?l[0][1]:"/";Object(r.useEffect)(function(){A&&t(T),e(X())},[A,t,T]);return n.a.createElement(ot,null,n.a.createElement("h1",null,"Sign Up"),P&&n.a.createElement(ce,{variant:"danger"}," ",P," "),G&&n.a.createElement(ce,{variant:"danger"},G),q&&n.a.createElement(oe,null),n.a.createElement(y.a,{onSubmit:function(t){t.preventDefault(),_(""),I!==k?_("Passwords do not match"):e(function(e,t,a){return O({url:"/api/users/register/",method:"post",data:{email:t,name:e,password:a},headers:K,onStart:U.type,onSuccess:$.type,onError:z.type})}(m,g,I))}},n.a.createElement(y.a.Group,{controlId:"name"},n.a.createElement(y.a.Label,null,"Name"),n.a.createElement(y.a.Control,{type:"text",value:m,required:!0,placeholder:"Enter name",onChange:function(e){return p(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"email"},n.a.createElement(y.a.Label,null,"Email"),n.a.createElement(y.a.Control,{type:"email",value:g,required:!0,placeholder:"Enter email",onChange:function(e){return b(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"password"},n.a.createElement(y.a.Label,null,"Password"),n.a.createElement(y.a.Control,{type:"password",value:I,required:!0,placeholder:"Enter password",onChange:function(e){return S(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"confirmPassword"},n.a.createElement(y.a.Label,null,"Confirm Password"),n.a.createElement(y.a.Control,{type:"password",value:k,required:!0,placeholder:"Confirm password",onChange:function(e){return x(e.target.value)}})),n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit",variant:"primary"},"Sign Up")),n.a.createElement(V.a,null,n.a.createElement(W.a,{className:"py-3"},"Already have an account ?"," ",n.a.createElement(u.Link,{to:T?"/login?redirect=".concat(T):"/login"},"Login"))))},it=a(165),ut=Object(b.c)({name:"userDetails",initialState:{user:{},loading:!1,error:null},reducers:{userDetailsRequested:function(e,t){e.loading=!0},userDetailsReceived:function(e,t){e.user=t.payload,e.loading=!1},userDetailsRequestFailed:function(e,t){e.error=t.payload,e.loading=!1}}}),st=ut.actions,dt=st.userDetailsRequested,mt=st.userDetailsReceived,pt=st.userDetailsRequestFailed,ft=ut.reducer,ht=function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/users/".concat(e,"/"),method:"get",headers:n,onStart:dt.type,onSuccess:mt.type,onError:pt.type}))}},Et=Object(b.c)({name:"userProfileUpdate",initialState:{userInfo:{},loading:!1,success:!1,error:null},reducers:{profileUpdateRequested:function(e,t){e.loading=!0},profileUpdateSuccess:function(e,t){e.userInfo=t.payload,e.loading=!1,e.success=!0,localStorage.setItem("userInfo",JSON.stringify(t.payload)),window.location.reload(!0)},profileUpdateRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},profileUpdateResetted:function(e,t){e.userInfo={}}}}),yt=Et.actions,vt=yt.profileUpdateRequested,gt=yt.profileUpdateSuccess,bt=yt.profileUpdateRequestFailed,Ot=yt.profileUpdateResetted,wt=Et.reducer,jt=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(r.useState)(""),o=Object(E.a)(a,2),l=o[0],i=o[1],u=Object(r.useState)(""),d=Object(E.a)(u,2),m=d[0],p=d[1],f=Object(r.useState)(""),g=Object(E.a)(f,2),b=g[0],w=g[1],j=Object(r.useState)(""),I=Object(E.a)(j,2),S=I[0],x=I[1],R=Object(r.useState)(""),N=Object(E.a)(R,2),P=N[0],_=N[1],D=Object(c.c)(function(e){return e}),A=D.userDetails,q=A.user,G=A.loading,T=A.error,F=D.user.userInfo,B=D.userProfileUpdate.success,M=D.userOrders,U=M.loading,$=M.error,z=M.orders;Object(r.useEffect)(function(){F?(q&&q.name&&!B&&F._id===q._id?(i(q.name),p(q.email)):(e(function(e){e({type:Ot.type})}),e(ht("profile"))),e(function(e,t){var a=t().user.userInfo.token,r={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)};e(O({url:"/api/orders/user-orders/",method:"get",headers:r,onStart:L.type,onSuccess:C.type,onError:k.type}))})):t("/login")},[e,F,t,q,B]);return n.a.createElement(V.a,null,n.a.createElement(W.a,{md:3},n.a.createElement("h2",null,"User Profile"),P&&n.a.createElement(ce,{variant:"danger"}," ",P," "),T&&n.a.createElement(ce,{variant:"danger"},T),G&&n.a.createElement(oe,null),n.a.createElement(y.a,{onSubmit:function(t){t.preventDefault(),b!==S?_("Passwords do not match"):(e(function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/users/profile/update/",method:"put",data:e,headers:n,onStart:vt.type,onSuccess:gt.type,onError:bt.type}))}}({id:q._id,name:l,email:m,password:b})),_(""))}},n.a.createElement(y.a.Group,{controlId:"name"},n.a.createElement(y.a.Label,null,"Name"),n.a.createElement(y.a.Control,{type:"text",value:l,required:!0,placeholder:"Enter name",onChange:function(e){return i(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"email"},n.a.createElement(y.a.Label,null,"Email"),n.a.createElement(y.a.Control,{type:"email",value:m,required:!0,placeholder:"Enter email",onChange:function(e){return p(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"password"},n.a.createElement(y.a.Label,null,"Password"),n.a.createElement(y.a.Control,{type:"password",value:b,placeholder:"Enter password",onChange:function(e){return w(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"confirmPassword"},n.a.createElement(y.a.Label,null,"Confirm Password"),n.a.createElement(y.a.Control,{type:"password",value:S,placeholder:"Confirm password",onChange:function(e){return x(e.target.value)}})),n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit",variant:"primary"},"Update"))),n.a.createElement(W.a,{md:9},n.a.createElement("h2",null,"My Orders"),U?n.a.createElement(oe,null):$?n.a.createElement(ce,{variant:"danger"},$):n.a.createElement(it.a,{striped:!0,responsive:!0,className:"table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Order No"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total"),n.a.createElement("th",null,"Paid"),n.a.createElement("th",null,"Delivered"),n.a.createElement("th",null))),n.a.createElement("tbody",null,z.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.createdAt.substring(0,10)),n.a.createElement("td",null,"$",e.totalPrice),n.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):n.a.createElement("i",{className:"fa fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):n.a.createElement("i",{className:"fa fa-times",style:{color:"red"}})),n.a.createElement("td",null,n.a.createElement(h.LinkContainer,{to:"/order/".concat(e._id)},n.a.createElement(v.a,{className:"btn btn-sm"},"Details"))))})))))},It=function(e){var t=e.step1,a=e.step2,r=e.step3,o=e.step4;return n.a.createElement(p.a,{className:"justify-content-center mb-4"},n.a.createElement(p.a.Item,null,t?n.a.createElement(h.LinkContainer,{to:"/login"},n.a.createElement(p.a.Link,null,"Login")):n.a.createElement(p.a.Link,{disabled:!0},"Login")),n.a.createElement(p.a.Item,null,a?n.a.createElement(h.LinkContainer,{to:"/shipping"},n.a.createElement(p.a.Link,null,"Shipping")):n.a.createElement(p.a.Link,{disabled:!0},"Shipping")),n.a.createElement(p.a.Item,null,r?n.a.createElement(h.LinkContainer,{to:"/payment"},n.a.createElement(p.a.Link,null,"Payment")):n.a.createElement(p.a.Link,{disabled:!0},"Payment")),n.a.createElement(p.a.Item,null,o?n.a.createElement(h.LinkContainer,{to:"/placeorder"},n.a.createElement(p.a.Link,null,"Place Order")):n.a.createElement(p.a.Link,{disabled:!0},"Place Order")))},St=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(c.c)(function(e){return e.cart}).shippingAddress,o=Object(c.c)(function(e){return e.user}).userInfo,l=Object(r.useState)(a.address),i=Object(E.a)(l,2),u=i[0],d=i[1],m=Object(r.useState)(a.city),p=Object(E.a)(m,2),f=p[0],h=p[1],g=Object(r.useState)(a.postalCode),b=Object(E.a)(g,2),O=b[0],w=b[1],j=Object(r.useState)(a.country),I=Object(E.a)(j,2),S=I[0],L=I[1];Object(r.useEffect)(function(){o||t("/login")},[t,o]);return n.a.createElement(ot,null,n.a.createElement(It,{step1:!0,step2:!0}),n.a.createElement("h1",null,"Shipping"),n.a.createElement(y.a,{onSubmit:function(a){var r;a.preventDefault(),e((r={address:u,city:f,postalCode:O,country:S},function(){var e=Object(ze.a)(Ke().mark(function e(t,a){return Ke().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:We.type,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())),t("/payment")}},n.a.createElement(y.a.Group,{controlId:"address"},n.a.createElement(y.a.Label,null,"Address"),n.a.createElement(y.a.Control,{type:"text",required:!0,value:u||"",placeholder:"Enter address",onChange:function(e){return d(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"city"},n.a.createElement(y.a.Label,null,"City"),n.a.createElement(y.a.Control,{type:"text",required:!0,value:f||"",placeholder:"Enter city",onChange:function(e){return h(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"postalCode"},n.a.createElement(y.a.Label,null,"Postal Code"),n.a.createElement(y.a.Control,{type:"text",required:!0,value:O||"",placeholder:"Enter postal code",onChange:function(e){return w(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"country"},n.a.createElement(y.a.Label,null,"Country"),n.a.createElement(y.a.Control,{type:"text",required:!0,value:S||"",placeholder:"Enter country",onChange:function(e){return L(e.target.value)}})),n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit",variant:"primary"},"Continue")))},Lt=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(c.c)(function(e){return e.cart}).shippingAddress,o=Object(c.c)(function(e){return e.user}).userInfo,l=Object(r.useState)("PayPal"),i=Object(E.a)(l,2),u=i[0],d=i[1];a.address||t("/shipping"),Object(r.useEffect)(function(){o||t("/login")},[t,o]);return n.a.createElement(ot,null,n.a.createElement(It,{step1:!0,step2:!0,step3:!0}),n.a.createElement(y.a,{onSubmit:function(a){var r;a.preventDefault(),e((r=u,function(){var e=Object(ze.a)(Ke().mark(function e(t,a){return Ke().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:et.type,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())),t("/placeorder")}},n.a.createElement(y.a.Group,null,n.a.createElement(y.a.Label,{as:"legend"},"Select Method"),n.a.createElement(W.a,{style:{marginLeft:"1rem"}},n.a.createElement(y.a.Check,{type:"radio",label:"PayPal or Credit Card",name:"paymentMethod",value:"PayPal",onChange:function(e){return d(e.target.value)}}),n.a.createElement(y.a.Check,{type:"radio",label:"Cash on Delivery",name:"paymentMethod",value:"Cash on Delivery",onChange:function(e){return d(e.target.value)}}))),n.a.createElement("br",null),n.a.createElement(v.a,{variant:"primary",type:"submit"},"Continue")))},Ct=Object(b.c)({name:"order",initialState:{orderObject:{},success:!1,loading:!1,error:null},reducers:{createOrderRequested:function(e,t){e.loading=!0},createOrderSuccess:function(e,t){e.orderObject=t.payload,e.success=!0,e.loading=!1},createOrderFailed:function(e,t){e.error=t.payload,e.loading=!1},orderResetted:function(e,t){e.orderObject={},e.success=!1,e.loading=!1,e.error=null}}}),kt=Ct.actions,xt=kt.createOrderRequested,Rt=kt.createOrderSuccess,Nt=kt.createOrderFailed,Pt=kt.orderResetted,_t=Ct.reducer,Dt=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(c.c)(function(e){return e}),o=a.cart,l=a.order,i=l.orderObject,m=l.success,p=l.error,f=a.user.userInfo,h=o.cartItems.reduce(function(e,t){return e+t.price*t.quantity},0).toFixed(2),E=(h>100?0:10).toFixed(2),y=Number(.082*h).toFixed(2),g=(Number(h)+Number(E)+Number(y)).toFixed(2);Object(r.useEffect)(function(){f?m&&(t("/order/".concat(i._id)),e(function(e){e({type:Pt.type})}),e(function(){var e=Object(ze.a)(Ke().mark(function e(t,a){return Ke().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:tt.type}),localStorage.removeItem("cartItems");case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())):t("/login")},[m,t,f]);return n.a.createElement("div",null,n.a.createElement(It,{step1:!0,step2:!0,step3:!0,step4:!0}),n.a.createElement(V.a,null,n.a.createElement(W.a,{md:8},n.a.createElement(Ne.a,{variant:"flush"},n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Shipping"),n.a.createElement("p",null,n.a.createElement("strong",null,"Shipping: "),o.shippingAddress.address,", ",o.shippingAddress.city,"  ",o.shippingAddress.postalCode,",","  ",o.shippingAddress.country)),n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Payment Method"),n.a.createElement("p",null,n.a.createElement("strong",null,"Method: "),o.paymentMethod)),n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Order Items"),0===o.cartItems.length?n.a.createElement(ce,{variant:"info"},"Your cart is empty"):n.a.createElement(Ne.a,{variant:"flush"},o.cartItems.map(function(e,t){return n.a.createElement(Ne.a.Item,{key:t},n.a.createElement(V.a,null,n.a.createElement(W.a,{md:1},n.a.createElement(me.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(W.a,null,n.a.createElement(u.Link,{to:"/product/".concat(e.productId)},e.name)),n.a.createElement(W.a,{md:4},e.quantity," X $",e.price," = $",(e.quantity*e.price).toFixed(2))))}))))),n.a.createElement(W.a,{md:4},n.a.createElement(te.a,null,n.a.createElement(Ne.a,{variant:"flush"},n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Order Summary")),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Items: "),n.a.createElement(W.a,null,"$",h))),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Shipping: "),n.a.createElement(W.a,null,"$",E))),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Tax: "),n.a.createElement(W.a,null,"$",y))),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Total: "),n.a.createElement(W.a,null,"$",g))),n.a.createElement(Ne.a.Item,null,p&&n.a.createElement(ce,{variant:"danger"},p)),n.a.createElement(Ne.a.Item,null,n.a.createElement(v.a,{type:"button",className:"w-100",disabled:0===o.cartItems.length,onClick:function(){var t;e((t={orderItems:o.cartItems,shippingAddress:o.shippingAddress,paymentMethod:o.paymentMethod,shippingPrice:E,taxPrice:y,totalPrice:g},function(e,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};e(O({url:"/api/orders/add/",method:"post",data:t,headers:n,onStart:xt.type,onSuccess:Rt.type,onError:Nt.type}))})),"Cash on Delivery"===o.paymentMethod&&d.toast.success("Order placed")}},"Place Order")))))))},At=a(98),qt=Object(b.c)({name:"orderDetails",initialState:{order:{orderItems:[],shippingAddress:{},paymentMethod:"",user:{}},loading:!1,error:null},reducers:{orderDetailsRequested:function(e,t){e.loading=!0},orderDetailsReceived:function(e,t){e.order=t.payload,e.loading=!1},orderDetailsRequestFailed:function(e,t){e.error=t.payload,e.loading=!1}}}),Gt=qt.actions,Tt=Gt.orderDetailsRequested,Ft=Gt.orderDetailsReceived,Bt=Gt.orderDetailsRequestFailed,Mt=qt.reducer,Ut=Object(b.c)({name:"orderPay",initialState:{loading:!1,success:!1,error:null},reducers:{orderPayRequested:function(e,t){e.loading=!0},orderPaySuccess:function(e,t){e.loading=!1,e.success=!0},orderPayRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},orderPayResetted:function(e,t){e.loading=!1,e.success=!1,e.error=null}}}),$t=Ut.actions,zt=$t.orderPayRequested,Jt=$t.orderPaySuccess,Yt=$t.orderPayRequestFailed,Ht=$t.orderPayResetted,Kt=Ut.reducer,Qt=Object(b.c)({name:"orderList",initialState:{orders:[],loading:!1,error:null,orderDeliver:{}},reducers:{orderListRequested:function(e,t){e.loading=!0},orderListReceived:function(e,t){e.orders=t.payload,e.loading=!1},orderListRequestFailed:function(e,t){e.error=t.payload,e.loading=!1},orderDeliverRequested:function(e,t){e.orderDeliver.loading=!0},orderDelivered:function(e,t){var a=e.orders.findIndex(function(e){return e.id===t.payload._id});e.orders[a]=t.payload,e.orderDeliver.success=!0,e.orderDeliver.loading=!1},orderDeliverDeleted:function(e,t){e.orderDeliver={}}}}),Xt=Qt.actions,Zt=Xt.orderListRequested,Vt=Xt.orderListReceived,Wt=Xt.orderListRequestFailed,ea=Xt.orderDelivered,ta=Xt.orderDeliverDeleted,aa=Qt.reducer,ra=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(s.A)().id,o=Object(c.c)(function(e){return e}),l=o.orderDetails,i=l.order,m=l.loading,p=l.error,f=o.orderPay,h=f.success,y=f.loading,g=o.user.userInfo,b=o.orderList.orderDeliver,w=b.success,j=b.loading,I=Object(r.useState)(!1),S=Object(E.a)(I,2),L=S[0],C=S[1],k=0;m||p||(k=i.orderItems.reduce(function(e,t){return e+t.price*t.qty},0).toFixed(2));console.log(i.paymentMethod),Object(r.useEffect)(function(){g?!Object.keys(i).length||h||w||i._id!==Number(a)?(h&&d.toast.success("Order Paid"),w&&d.toast.success("order delivered"),e(function(e){e({type:Ht.type})}),e(function(e){e({type:ta.type})}),e(function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/orders/".concat(e,"/"),method:"get",headers:n,onStart:Tt.type,onSuccess:Ft.type,onError:Bt.type}))}}(a))):i.isPaid||(window.paypal?C(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AS5LcoTOrmwavIBTbinGY62cjZCCQGAeZ2CGoR0eBDBqTGkw7rwJgjLU5mr4wmhBu1jLn9mKMIf2nK_d",e.async=!0,e.onload=function(){C(!0)},document.body.appendChild(e)}()):t("/login")},[e,i,h,w,a]);var x=function(t){e(function(e,t){return function(a,r){var n=r().user.userInfo.token,o={"Content-Type":"application/json",Authorization:"Bearer ".concat(n)};a(O({url:"/api/orders/".concat(e,"/pay/"),method:"put",data:t,headers:o,onStart:zt.type,onSuccess:Jt.type,onError:Yt.type}))}}(a,t))};return m?n.a.createElement(oe,null):p?n.a.createElement(ce,{variant:"danger"},p):n.a.createElement("div",null,n.a.createElement(V.a,null,n.a.createElement("h1",null,"Order Number: ",i._id),n.a.createElement(W.a,{md:8},n.a.createElement(Ne.a,{variant:"flush"},n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Shipping"),n.a.createElement("p",null,n.a.createElement("strong",null,"Name: "),i.user.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:"," ",n.a.createElement("a",{href:"mailto:".concat(i.user.email)},i.user.email))),n.a.createElement("p",null,n.a.createElement("strong",null,"Shipping: "),i.shippingAddress.address,", ",i.shippingAddress.city,"  ",i.shippingAddress.postalCode,",","  ",i.shippingAddress.country),i.isDelivered?n.a.createElement(ce,{variant:"success"},"Delivered on: ",i.deliveredAt.substring(0,10)):n.a.createElement(ce,{variant:"warning"},"Not Delivered")),n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Payment Method"),n.a.createElement("p",null,n.a.createElement("strong",null,"Method: "),i.paymentMethod),i.isPaid?n.a.createElement(ce,{variant:"success"},"Paid on: ",i.paidAt.substring(0,10)):n.a.createElement(ce,{variant:"warning"},"Not paid")),n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Order Items"),0===i.orderItems.length?n.a.createElement(ce,{variant:"info"},"Order is empty"):n.a.createElement(Ne.a,{variant:"flush"},i.orderItems.map(function(e,t){return n.a.createElement(Ne.a.Item,{key:t},n.a.createElement(V.a,null,n.a.createElement(W.a,{md:1},n.a.createElement(me.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(W.a,null,n.a.createElement(u.Link,{to:"/product/".concat(e.productId)},e.name)),n.a.createElement(W.a,{md:4},e.qty," X $",e.price," = $",(e.qty*e.price).toFixed(2))))}))))),n.a.createElement(W.a,{md:4},n.a.createElement(te.a,null,n.a.createElement(Ne.a,{variant:"flush"},n.a.createElement(Ne.a.Item,null,n.a.createElement("h2",null,"Order Summary")),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Items: "),n.a.createElement(W.a,null,"$",k))),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Shipping: "),n.a.createElement(W.a,null,"$",i.shippingPrice))),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Tax: "),n.a.createElement(W.a,null,"$",i.taxPrice))),n.a.createElement(Ne.a.Item,null,n.a.createElement(V.a,null,n.a.createElement(W.a,null,"Total: "),n.a.createElement(W.a,null,"$",i.totalPrice))),!i.isPaid&&"PayPal"===i.paymentMethod&&n.a.createElement(Ne.a.Item,null,y&&n.a.createElement(oe,null),L?n.a.createElement(At.PayPalButton,{amount:i.totalPrice,onSuccess:x}):n.a.createElement(oe,null)),j&&n.a.createElement(oe,null),g&&g.isAdmin&&!i.isPaid&&"Cash on Delivery"===i.paymentMethod&&n.a.createElement(Ne.a.Item,null,n.a.createElement(v.a,{type:"button",className:"btn w-100",onClick:function(){return x({})}},"Mark as Paid")),j&&n.a.createElement(oe,null),g&&g.isAdmin&&i.isPaid&&!i.isDelivered&&n.a.createElement(Ne.a.Item,null,n.a.createElement(v.a,{type:"button",className:"btn w-100",onClick:function(){e(function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/orders/".concat(e,"/deliver/"),method:"put",data:{},headers:n,onSuccess:ea.type}))}}(a))}},"Mark as Delivered")))))))},na=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(c.c)(function(e){return e}),o=a.userList,l=o.users,i=o.loading,u=o.error,d=o.successDelete,m=a.user.userInfo;Object(r.useEffect)(function(){m&&m.isAdmin?e(function(e,t){var a=t().user.userInfo.token,r={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)};e(O({url:"/api/users/",method:"get",headers:r,onStart:_.type,onSuccess:D.type,onError:A.type}))}):t("/login")},[e,t,d,m]);var p=function(t){window.confirm("Are you sure you want to delete this user?")&&e(function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/users/".concat(e,"/delete/"),method:"delete",headers:n,onSuccess:q.type}))}}(t))};return n.a.createElement("div",null,n.a.createElement("h1",null,"Users"),i?n.a.createElement(oe,null):u?n.a.createElement(ce,{variant:"danger"},u):n.a.createElement(it.a,{striped:!0,hover:!0,bordered:!0,responsive:!0,className:"table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Admin"),n.a.createElement("th",null))),n.a.createElement("tbody",null,l.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.email),n.a.createElement("td",null,e.isAdmin?n.a.createElement("i",{className:"fa fa-check",style:{color:"green"}}):n.a.createElement("i",{className:"fa fa-times",style:{color:"red"}})),n.a.createElement("td",null,n.a.createElement(h.LinkContainer,{to:"/admin/users/".concat(e._id)},n.a.createElement(v.a,{variant:"light",className:"btn btn-sm"},n.a.createElement("i",{className:"fa fa-edit"}))),n.a.createElement(v.a,{variant:"danger",className:"btn btn-sm",onClick:function(){return p(e._id)}},n.a.createElement("i",{className:"fa fa-trash"}))))}))))},oa=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(c.c)(function(e){return e}),o=a.products,l=o.productsList,i=o.loading,u=o.error,d=o.successCreate,m=o.successDelete,p=a.user.userInfo;Object(r.useEffect)(function(){if(d){var r=a.products.createdProduct;t("/admin/products/".concat(r._id))}p.isAdmin?e(Le()):t("/login")},[e,t,p,d,m]);return n.a.createElement("div",null,n.a.createElement(V.a,{className:"align-items-center"},n.a.createElement(W.a,null,n.a.createElement("h1",null,"Products")),n.a.createElement(W.a,{className:"text-end"},n.a.createElement(v.a,{className:"my-3",onClick:function(){e(function(e,t){var a=t().user.userInfo.token,r={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)};e(O({url:"/api/products/create/",method:"post",data:{},headers:r,onSuccess:ve.type}))})}},n.a.createElement("i",{className:"fa fa-plus"})," Create Product"))),i?n.a.createElement(oe,null):u?n.a.createElement(ce,{variant:"danger"},u):n.a.createElement(it.a,{striped:!0,hover:!0,bordered:!0,responsive:!0,className:"table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Category"),n.a.createElement("th",null,"Brand"),n.a.createElement("th",null))),n.a.createElement("tbody",null,l.map(function(t){return n.a.createElement("tr",{key:t._id},n.a.createElement("td",null,t._id),n.a.createElement("td",null,t.name),n.a.createElement("td",null,t.price),n.a.createElement("td",null,t.category),n.a.createElement("td",null,t.brand),n.a.createElement("td",null,n.a.createElement(h.LinkContainer,{to:"/admin/products/".concat(t._id)},n.a.createElement(v.a,{variant:"light",className:"btn btn-sm"},n.a.createElement("i",{className:"fa fa-edit"}))),n.a.createElement(v.a,{variant:"danger",className:"btn btn-sm",onClick:function(){return a=t._id,void(window.confirm("Are you sure you want to delete this product?")&&e(Ce(a)));var a}},n.a.createElement("i",{className:"fa fa-trash"}))))}))))},la=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(s.A)().id,o=Object(r.useState)(""),l=Object(E.a)(o,2),i=l[0],d=l[1],m=Object(r.useState)(""),p=Object(E.a)(m,2),f=p[0],h=p[1],g=Object(r.useState)(!1),b=Object(E.a)(g,2),w=b[0],j=b[1],I=Object(c.c)(function(e){return e}),S=I.userDetails,L=S.user,C=S.loading,k=S.error,x=I.user.userInfo;Object(r.useEffect)(function(){x.isAdmin?L.name&&L._id===Number(a)?(d(L.name),h(L.email),j(L.isAdmin)):e(ht(a)):t("/login")},[L,e,a]);return n.a.createElement("div",null,n.a.createElement(u.Link,{to:"/admin/users",className:"btn btn-light"},"Go Back"),n.a.createElement(ot,null,n.a.createElement("h1",null,"Edit User"),C?n.a.createElement(oe,null):k?n.a.createElement(ce,{variant:"danger"},k):n.a.createElement(y.a,{onSubmit:function(a){a.preventDefault(),e(function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/users/".concat(e._id,"/update/"),method:"put",data:e,headers:n,onSuccess:G.type}))}}({_id:L._id,name:i,email:f,isAdmin:w})),t("/admin/users")}},n.a.createElement(y.a.Group,{controlId:"name"},n.a.createElement(y.a.Label,null,"Name"),n.a.createElement(y.a.Control,{type:"text",value:i,placeholder:"Enter name",onChange:function(e){return d(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"email"},n.a.createElement(y.a.Label,null,"Email"),n.a.createElement(y.a.Control,{type:"email",value:f,placeholder:"Enter email",onChange:function(e){return h(e.target.value)}})),n.a.createElement("br",null),n.a.createElement(y.a.Group,{controlId:"isdmin"},n.a.createElement(y.a.Check,{type:"checkbox",label:"Is Admin",checked:w,onChange:function(e){return j(e.target.checked)}})),n.a.createElement("br",null),n.a.createElement(v.a,{type:"submit",variant:"primary"},"Update"))))};function ca(){ca=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof d?t:d,o=Object.create(n.prototype),l=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var l=a.delegate;if(l){var c=b(l,a);if(c){if(c===s)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===s)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=i;var s={};function d(){}function m(){}function p(){}var f={};c(f,n,function(){return this});var h=Object.getPrototypeOf,E=h&&h(h(I([])));E&&E!==t&&a.call(E,n)&&(f=E);var y=p.prototype=d.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,o){function l(){return new t(function(r,l){!function r(n,o,l,c){var i=u(e[n],e,o);if("throw"!==i.type){var s=i.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,l,c)},function(e){r("throw",e,l,c)}):t.resolve(d).then(function(e){s.value=e,l(s)},function(e){return r("throw",e,l,c)})}c(i.arg)}(n,o,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(g.prototype),c(g.prototype,o,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var l=new g(i(t,a,r,n),o);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},v(y),c(y,l,"Generator"),c(y,n,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(c&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;w(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:I(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),s}},e}var ia=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(s.A)().id,o=Object(r.useState)(""),l=Object(E.a)(o,2),i=l[0],d=l[1],m=Object(r.useState)(""),p=Object(E.a)(m,2),f=p[0],h=p[1],g=Object(r.useState)(""),b=Object(E.a)(g,2),w=b[0],j=b[1],I=Object(r.useState)(""),S=Object(E.a)(I,2),L=S[0],C=S[1],k=Object(r.useState)(""),x=Object(E.a)(k,2),R=x[0],N=x[1],P=Object(r.useState)(""),_=Object(E.a)(P,2),D=_[0],A=_[1],q=Object(r.useState)(""),G=Object(E.a)(q,2),T=G[0],F=G[1],B=Object(r.useState)(!1),M=Object(E.a)(B,2),U=M[0],$=M[1],z=Object(c.c)(function(e){return e}),J=z.productDetails,Y=J.product,H=J.loading,K=J.error,Q=z.products.successCreate,X=z.user.userInfo;Object(r.useEffect)(function(){X.isAdmin?(Q&&e(function(e){e({type:be.type})}),Y.name&&Y._id===Number(a)?(d(Y.name),h(Y.price),j(Y.image),C(Y.brand),N(Y.category),A(Y.countInStock),F(Y.description)):e(Ue(a))):t("/login")},[Y,e,a]);var Z=function(){var e=Object(ze.a)(ca().mark(function e(t){var a,r,n,o,l;return ca().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),r.append("product_id",Y._id),$(!0),e.prev=5,n={headers:{"Content-Type":"multipart/form-data"}},e.next=9,He.post("/api/products/upload/",r,n);case 9:o=e.sent,l=o.data,j(l),$(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),$(!1);case 18:case"end":return e.stop()}},e,null,[[5,15]])}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(u.Link,{to:"/admin/products",className:"btn btn-light"},"Go Back"),n.a.createElement(ot,null,n.a.createElement("h1",null,"Edit Product"),H?n.a.createElement(oe,null):K?n.a.createElement(ce,{variant:"danger"},K):n.a.createElement(y.a,{onSubmit:function(a){a.preventDefault(),e(function(e){return function(t,a){var r=a().user.userInfo.token,n={"Content-Type":"application/json",Authorization:"Bearer ".concat(r)};t(O({url:"/api/products/".concat(e._id,"/update/"),method:"put",data:e,headers:n,onSuccess:ge.type}))}}({_id:Y._id,name:i,price:f,image:w,brand:L,category:R,countInStock:D,description:T})),t("/admin/products")}},n.a.createElement(y.a.Group,{controlId:"name"},n.a.createElement(y.a.Label,null,"Name"),n.a.createElement(y.a.Control,{type:"text",value:i,placeholder:"Enter name",onChange:function(e){return d(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"price"},n.a.createElement(y.a.Label,null,"Price"),n.a.createElement(y.a.Control,{type:"number",value:f,placeholder:"Enter price",onChange:function(e){return h(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"image"},n.a.createElement(y.a.Label,null,"Image"),n.a.createElement(y.a.Control,{type:"text",value:w,placeholder:"Enter image",onChange:function(e){return j(e.target.value)}}),n.a.createElement(y.a.Control,{type:"file",onChange:Z}),U&&n.a.createElement(oe,null)),n.a.createElement(y.a.Group,{controlId:"brand"},n.a.createElement(y.a.Label,null,"Brand"),n.a.createElement(y.a.Control,{type:"text",value:L,placeholder:"Enter brand",onChange:function(e){return C(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"category"},n.a.createElement(y.a.Label,null,"Category"),n.a.createElement(y.a.Control,{type:"text",value:R,placeholder:"Enter category",onChange:function(e){return N(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"countInStock"},n.a.createElement(y.a.Label,null,"Count In Stock"),n.a.createElement(y.a.Control,{type:"number",value:D,placeholder:"Enter stock",onChange:function(e){return A(e.target.value)}})),n.a.createElement(y.a.Group,{controlId:"description"},n.a.createElement(y.a.Label,null,"Description"),n.a.createElement(y.a.Control,{as:"textarea",rows:"3",value:T,placeholder:"Enter description",onChange:function(e){return F(e.target.value)}})),n.a.createElement("br",null),n.a.createElement(V.a,null,n.a.createElement(W.a,null,n.a.createElement(v.a,{type:"submit",variant:"primary"},"Update")),n.a.createElement(W.a,{className:"text-end"},n.a.createElement(v.a,{variant:"danger",onClick:function(){return a=Y._id,void(window.confirm("Are you sure you want to delete this product?")&&(e(Ce(a)),t("/admin/products")));var a}},"Delete"))))))},ua=function(){var e=Object(c.b)(),t=Object(s.w)(),a=Object(c.c)(function(e){return e}),o=a.orderList,l=o.orders,i=o.loading,u=o.error,d=a.user.userInfo;return Object(r.useEffect)(function(){d&&d.isAdmin?e(function(e,t){var a=t().user.userInfo.token,r={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)};e(O({url:"/api/orders/",method:"get",headers:r,onStart:Zt.type,onSuccess:Vt.type,onError:Wt.type}))}):t("/login")},[e,t,d]),n.a.createElement("div",null,n.a.createElement("h1",null,"Orders"),i?n.a.createElement(oe,null):u?n.a.createElement(ce,{variant:"danger"},u):n.a.createElement(it.a,{striped:!0,hover:!0,bordered:!0,responsive:!0,className:"table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Order No"),n.a.createElement("th",null,"User"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Total"),n.a.createElement("th",null,"Paid"),n.a.createElement("th",null,"Delivered"),n.a.createElement("th",null))),n.a.createElement("tbody",null,l.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.user&&e.user.name),n.a.createElement("td",null,e.createdAt.substring(0,10)),n.a.createElement("td",null,"$",e.totalPrice),n.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):n.a.createElement("i",{className:"fa fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):n.a.createElement("i",{className:"fa fa-times",style:{color:"red"}})),n.a.createElement("td",null,n.a.createElement(h.LinkContainer,{to:"/order/".concat(e._id)},n.a.createElement(v.a,{variant:"light",className:"btn btn-sm"},"Details"))))}))))};var sa=function(){return n.a.createElement(u.HashRouter,null,n.a.createElement(Z,null),n.a.createElement(d.ToastContainer,null),n.a.createElement("main",{className:"my-3"},n.a.createElement(i.a,null,n.a.createElement(s.g,null,n.a.createElement(s.e,{path:"/",element:n.a.createElement(xe,null),exact:!0}),n.a.createElement(s.e,{path:"/product/:id",element:n.a.createElement($e,null)}),n.a.createElement(s.e,{path:"/cart",element:n.a.createElement(nt,null)}),n.a.createElement(s.e,{path:"/cart/:id",element:n.a.createElement(nt,null)}),n.a.createElement(s.e,{path:"/login",element:n.a.createElement(lt,null)}),n.a.createElement(s.e,{path:"/register",element:n.a.createElement(ct,null)}),n.a.createElement(s.e,{path:"/profile",element:n.a.createElement(jt,null)}),n.a.createElement(s.e,{path:"/shipping",element:n.a.createElement(St,null)}),n.a.createElement(s.e,{path:"/payment",element:n.a.createElement(Lt,null)}),n.a.createElement(s.e,{path:"/placeorder",element:n.a.createElement(Dt,null)}),n.a.createElement(s.e,{path:"/order/:id",element:n.a.createElement(ra,null)}),n.a.createElement(s.e,{path:"/admin/users",element:n.a.createElement(na,null)}),n.a.createElement(s.e,{path:"/admin/users/:id",element:n.a.createElement(la,null)}),n.a.createElement(s.e,{path:"/admin/products",element:n.a.createElement(oa,null)}),n.a.createElement(s.e,{path:"/admin/products/:id",element:n.a.createElement(ia,null)}),n.a.createElement(s.e,{path:"/admin/orders",element:n.a.createElement(ua,null)})))),n.a.createElement(ee,null))},da=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,173)).then(function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,l=t.getTTFB;a(e),r(e),n(e),o(e),l(e)})},ma=(a(151),a(152),a(153),a(30)),pa=Object(ma.b)({products:Se,productDetails:Me,cart:at,user:H,userList:F,userDetails:ft,userProfileUpdate:wt,userOrders:R,order:_t,orderDetails:Mt,orderPay:Kt,orderList:aa});function fa(){fa=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,a){return e[t]=a}}function i(e,t,a,r){var n=t&&t.prototype instanceof d?t:d,o=Object.create(n.prototype),l=new j(r||[]);return o._invoke=function(e,t,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return S()}for(a.method=n,a.arg=o;;){var l=a.delegate;if(l){var c=b(l,a);if(c){if(c===s)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===s)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}(e,a,l),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=i;var s={};function d(){}function m(){}function p(){}var f={};c(f,n,function(){return this});var h=Object.getPrototypeOf,E=h&&h(h(I([])));E&&E!==t&&a.call(E,n)&&(f=E);var y=p.prototype=d.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function g(e,t){var r;this._invoke=function(n,o){function l(){return new t(function(r,l){!function r(n,o,l,c){var i=u(e[n],e,o);if("throw"!==i.type){var s=i.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,l,c)},function(e){r("throw",e,l,c)}):t.resolve(d).then(function(e){s.value=e,l(s)},function(e){return r("throw",e,l,c)})}c(i.arg)}(n,o,r,l)})}return r=r?r.then(l,l):l()}}function b(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var n=r.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(g.prototype),c(g.prototype,o,function(){return this}),e.AsyncIterator=g,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var l=new g(i(t,a,r,n),o);return e.isGeneratorFunction(a)?l:l.next().then(function(e){return e.done?e.value:l.next()})},v(y),c(y,l,"Generator"),c(y,n,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return l.type="throw",l.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),i=a.call(o,"finallyLoc");if(c&&i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;w(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:I(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),s}},e}var ha=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(ze.a)(fa().mark(function a(r){var n,o,l,c,i,u,s,d,m,p;return fa().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r.type===O.type){a.next=2;break}return a.abrupt("return",e(r));case 2:return n=r.payload,o=n.url,l=n.method,c=n.data,i=n.headers,u=n.onSuccess,s=n.onError,(d=n.onStart)&&t({type:d}),e(r),a.prev=5,a.next=8,He.request({url:o,method:l,data:c,headers:i});case 8:m=a.sent,t(w(m.data)),u&&t({type:u,payload:m.data}),a.next=18;break;case 13:a.prev=13,a.t0=a.catch(5),p=a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message,t(j(p)),s&&t({type:s,payload:p});case 18:case"end":return a.stop()}},a,null,[[5,13]])}));return function(e){return a.apply(this,arguments)}}()}},Ea=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],ya=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,va={cart:{cartItems:Ea,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):""},user:{userInfo:ya}},ga=l.a.createRoot(document.getElementById("root")),ba=Object(b.a)({reducer:pa,preloadedState:va,middleware:[].concat(Object(Re.a)(Object(b.d)()),[ha])});ga.render(n.a.createElement(c.a,{store:ba},n.a.createElement(sa,null))),da()}},[[100,1,2]]]);
//# sourceMappingURL=main.2f999f9b.chunk.js.map